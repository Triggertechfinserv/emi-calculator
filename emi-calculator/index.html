<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EMI Calculator — TechFinserv</title>
  <meta name="description" content="Free EMI Calculator by TechFinserv. Calculate monthly EMI, total interest, and total amount for home, car, or personal loans. Supports years or months." />
  <link rel="icon" type="image/png" href="favicon.png">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9DHT9T8GZB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-9DHT9T8GZB');
  </script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #f6f9ff;
      --bg-accent1: rgba(14,165,233,0.20);
      --bg-accent2: rgba(16,185,129,0.18);
      --surface: rgba(255,255,255,0.78);
      --surface-strong: rgba(255,255,255,0.92);
      --text: #0f172a;
      --muted: #475569;
      --border: rgba(2,6,23,0.12);
      --accent-1: #0ea5e9;
      --accent-2: #10b981;
      --radius: 16px;
      --shadow: 0 12px 34px rgba(2,6,23,0.10), 0 4px 14px rgba(2,6,23,0.06);
      --maxw: 1200px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color: var(--text);
      background: var(--bg);
    }
    body::before {
      content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800" preserveAspectRatio="none"><defs><radialGradient id="b" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(120 40) scale(900 500)"><stop offset="0" stop-color="%230ea5e9" stop-opacity="0.20"/><stop offset="0.6" stop-color="%230ea5e9" stop-opacity="0"/></radialGradient><radialGradient id="g" cx="1" cy="0.3" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(1080 240) scale(900 500)"><stop offset="0" stop-color="%2310b981" stop-opacity="0.18"/><stop offset="0.6" stop-color="%2310b981" stop-opacity="0"/></radialGradient></defs><rect width="1200" height="800" fill="%23f6f9ff"/><rect width="1200" height="800" fill="url(%23b)"/><rect width="1200" height="800" fill="url(%23g)"/></svg>');
      background-size:cover; background-repeat:no-repeat; background-position:center;
    }

    .container { max-width: var(--maxw); margin: 0 auto; padding: 0 20px; }

    /* ===== Header (exactly like your reference) ===== */
    .topbar {
      position: sticky; top: 0; z-index: 40;
      background: rgba(255,255,255,0.68);
      border-bottom: 1px solid var(--border);
      backdrop-filter: blur(12px) saturate(170%);
      -webkit-backdrop-filter: blur(12px) saturate(170%);
      isolation: isolate;
      box-shadow: 0 6px 16px rgba(2,6,23,0.06);
      overflow: hidden;
    }
    .topbar::before {
      content: ""; position: absolute; inset: 0; pointer-events:none;
      background: rgba(255,255,255,0.7); opacity:0.28;
      border-bottom: 1px solid var(--border);
    }
    .topbar::after {
      content: ""; position: absolute; inset: -20% -10%; pointer-events:none;
      background:
        radial-gradient(1200px 500px at 0% 0%, rgba(14,165,233,0.22), transparent 60%),
        radial-gradient(1200px 500px at 100% 30%, rgba(16,185,129,0.22), transparent 60%);
    }
    header.nav {
      position: relative; z-index: 1;
      display: flex; justify-content: space-between; align-items: center;
      padding: 12px 0;
    }
    .brand-logo {
      height: 65px; border-radius: 10px;
      display:block; width:auto; object-fit:contain;
      filter:none; mix-blend-mode:normal;
    }
    nav.menu { display: flex; gap: 14px; }
    nav.menu a {
      padding: 8px 12px; border-radius: 10px;
      color: var(--muted); transition: background 200ms ease;
      font-size: 15px; text-decoration: none; font-weight: 400;
    }
    nav.menu a:hover { background: var(--surface-strong); color: var(--text); }
    .cta {
      background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
      color: #fff; padding: 10px 14px; border-radius: 12px; font-weight: 600;
    }

    /* ===== Page content ===== */
    main { padding: 22px 0 34px; }
    .page {
      display:grid; grid-template-columns: 1fr; gap: 16px;
    }
    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      backdrop-filter: blur(10px) saturate(160%);
      -webkit-backdrop-filter: blur(10px) saturate(160%);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
    }
    .title { margin: 0 0 10px; font-size: clamp(22px, 3.6vw, 28px); color:#154a7b; }
    .muted { color: var(--muted); }

    .grid {
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }
    @media (min-width: 900px) {
      .grid { grid-template-columns: 380px 1fr; align-items:start; }
    }

    .field { display:grid; gap:6px; }
    label { font-weight: 600; font-size: 14px; color:#0f172a; }
    input[type="number"] {
      width:100%; padding:12px 12px;
      border:1px solid #e2e8f0; border-radius:12px; outline:none;
      background:#fff; font-size:15px;
    }
    .row { display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
    .btn {
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:12px 14px; border-radius:12px; border:1px solid var(--border);
      background:#fff; color:var(--text); font-weight:600; cursor:pointer; text-decoration:none;
      box-shadow:0 6px 16px rgba(2,6,23,0.06);
    }
    .btn.primary { background: linear-gradient(135deg, var(--accent-1), var(--accent-2)); color:#fff; border:0; }
    .btn:disabled{opacity:.6; cursor:not-allowed}

    .results {
      display:grid; grid-template-columns: repeat(3,1fr); gap:10px;
    }
    .stat {
      background:#fff; border:1px solid #e2e8f0; border-radius:12px; padding:12px;
      display:flex; flex-direction:column; gap:6px;
    }
    .stat .label{ color:#475569; font-size:13px }
    .stat .value{ font-weight:700; font-size:18px }

    .note {
      background:#ecfeff; border:1px solid #bae6fd; color:#0c4a6e;
      border-radius:12px; padding:12px; margin-top:10px;
      font-size:14px;
    }

    /* ===== Footer (exactly like your reference) ===== */
    footer.glass {
      position: relative; overflow: hidden;
      background: rgba(255,255,255,0.85);
      border-top: 1px solid var(--border);
      backdrop-filter: blur(12px) saturate(170%);
      -webkit-backdrop-filter: blur(12px) saturate(170%);
      box-shadow: 0 -8px 20px rgba(2,6,23,0.06) inset;
      padding: 30px 0 80px;
      color: var(--muted);
    }
    footer.glass::after {
      content:""; position:absolute; left:0; right:0; top:0; height:2px;
      background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
      opacity:0.8; pointer-events:none;
    }

    /* ===== Mobile (exactly like your reference) ===== */
    .mobile-menu-toggle { display:none; }
    .mobile-menu { display:none; }
    @media (max-width: 768px) {
      .topbar { background:#ffffffee; backdrop-filter:none !important; -webkit-backdrop-filter:none !important; }
      .topbar::before, .topbar::after { display:none !important; }
      header.nav { padding:8px 0; }
      .brand-logo { height:48px; border-radius:8px; }
      nav.menu { display:none; }
      .mobile-menu-toggle {
        display:inline-flex; flex-direction:column; justify-content:center;
        gap:4px; width:28px; height:22px; cursor:pointer; background:transparent; border:0;
      }
      .mobile-menu-toggle span {
        display:block; height:3px; width:100%; background:var(--text); border-radius:2px;
      }
      .mobile-menu {
        display:none; flex-direction:column; gap:6px; padding:10px 0 14px;
        background:#fff; border-bottom:1px solid var(--border);
      }
      .mobile-menu a { padding:12px 16px; font-size:15px; color:var(--muted); text-decoration:none; }
      .mobile-menu a:hover { background: var(--bg); color: var(--text); }

      .container { padding: 0 16px; }
      .grid { grid-template-columns: 1fr; }
      .results { grid-template-columns: 1fr; }
    }
    .mobile-menu.open { display:flex !important; }
  </style>
</head>
<body>
  <!-- Header (same as reference) -->
  <div class="topbar">
    <div class="container">
      <header class="nav">
        <a href="/" aria-label="TechFinserv home">
          <img class="brand-logo" src="images/techfinserv-logo.png" alt="TechFinserv logo">
        </a>
        <nav class="menu" aria-label="Primary">
          <a href="/">Home</a>
          <a href="blogs/">Blog</a>
          <a href="emi-calculator.html" aria-current="page">EMI calculator</a>
          <a href="#contact" class="cta">Contact</a>
        </nav>
        <button class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="mobileMenu">
          <span></span><span></span><span></span>
        </button>
      </header>
      <nav id="mobileMenu" class="mobile-menu" aria-label="Mobile">
        <a href="/">Home</a>
        <a href="blogs/">Blog</a>
        <a href="emi-calculator.html" aria-current="page">EMI calculator</a>
        <a href="#contact" style="font-weight:600;color:var(--accent-1)">Contact</a>
      </nav>
    </div>
  </div>

  <!-- Main -->
  <main>
    <div class="container page">
      <section aria-label="EMI calculator" class="grid">
        <!-- Left: Inputs -->
        <div class="card">
          <h1 class="title">EMI Calculator</h1>
          <p class="muted" style="margin:0 0 10px">Calculate monthly EMI, total interest, and total payment.</p>

          <div class="field">
            <label for="loanAmount">Loan Amount (₹)</label>
            <input id="loanAmount" type="number" inputmode="decimal" placeholder="e.g., 1000000" value="1000000" min="0" step="1000">
          </div>

          <div class="row" style="margin-top:10px">
            <div class="field">
              <label for="annualRate">Annual Interest Rate (%)</label>
              <input id="annualRate" type="number" inputmode="decimal" placeholder="e.g., 10" value="10" min="0" step="0.01">
            </div>
            <div class="field">
              <label for="tenureYears">Tenure (Years)</label>
              <input id="tenureYears" type="number" inputmode="numeric" placeholder="e.g., 10" value="10" min="0" step="1">
            </div>
          </div>

          <div class="row" style="margin-top:10px">
            <div class="field">
              <label for="tenureMonths">Extra Months (optional)</label>
              <input id="tenureMonths" type="number" inputmode="numeric" placeholder="0" value="0" min="0" step="1">
            </div>
            <div class="field">
              <label>&nbsp;</label>
              <button id="calcBtn" class="btn primary" type="button">Calculate EMI</button>
            </div>
          </div>

          <div class="note">
            EMI formula: <strong>P × r × (1+r)^n / ((1+r)^n − 1)</strong> where r = monthly rate, n = months.
          </div>
        </div>

        <!-- Right: Results -->
        <div class="card">
          <h2 style="margin:0 0 8px; font-size:18px; color:#154a7b">Results</h2>
          <div class="results" style="margin-top:8px">
            <div class="stat">
              <div class="label">Monthly EMI</div>
              <div class="value" id="emiValue">₹ 0</div>
            </div>
            <div class="stat">
              <div class="label">Total Interest</div>
              <div class="value" id="interestValue">₹ 0</div>
            </div>
            <div class="stat">
              <div class="label">Total Payment</div>
              <div class="value" id="totalValue">₹ 0</div>
            </div>
          </div>
          <p class="muted" style="margin:12px 0 0;font-size:13px">Tip: Part-pay early or reduce tenure to save more interest.</p>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer (same as reference) -->
  <footer id="contact" class="glass">
    <div class="container">
      <p>Designed & Maintained by Kiran Rathva | © <span id="year"></span> TechFinserv.com</p>
      <p class="subtitle" style="font-size:13px">Need something urgently? <a href="mailto:hello@techfinserv.com">hello@techfinserv.com</a></p>
    </div>
  </footer>

  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile menu (exactly like your reference)
    (function () {
      const toggle = document.querySelector('.mobile-menu-toggle');
      const menu = document.getElementById('mobileMenu');
      if (!toggle || !menu) return;
      const setExpanded = (open) => {
        toggle.setAttribute('aria-expanded', String(open));
        menu.classList.toggle('open', open);
      };
      toggle.addEventListener('click', () => {
        const open = !menu.classList.contains('open');
        setExpanded(open);
      });
      menu.addEventListener('click', (e) => {
        if (e.target.tagName === 'A') setExpanded(false);
      });
      window.addEventListener('resize', () => {
        if (window.innerWidth > 768) setExpanded(false);
      });
    })();

    // ===== EMI Calculation =====
    const formatINR = (num) => {
      if (!isFinite(num)) return '₹ 0';
      return '₹ ' + Math.round(num).toLocaleString('en-IN');
    };

    function calculateEMI(P, annualRate, months) {
      const r = (annualRate / 12) / 100;
      if (r === 0) return P / months;
      const pow = Math.pow(1 + r, months);
      return P * r * pow / (pow - 1);
    }

    function updateResults() {
      const P = parseFloat(document.getElementById('loanAmount').value || '0');
      const annual = parseFloat(document.getElementById('annualRate').value || '0');
      const years = parseInt(document.getElementById('tenureYears').value || '0', 10);
      const extraM = parseInt(document.getElementById('tenureMonths').value || '0', 10);

      const n = Math.max(1, years * 12 + extraM); // at least 1 month
      const emi = calculateEMI(P, annual, n);
      const total = emi * n;
      const interest = total - P;

      document.getElementById('emiValue').textContent = formatINR(emi);
      document.getElementById('interestValue').textContent = formatINR(interest);
      document.getElementById('totalValue').textContent = formatINR(total);
    }

    document.getElementById('calcBtn').addEventListener('click', updateResults);
    // initial compute
    updateResults();
  </script>
</body>
</html>
