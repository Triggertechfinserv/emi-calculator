<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SIP Calculator — TechFinserv</title>
  <meta name="description" content="TechFinserv's SIP Calculator lets you estimate returns for SIP and Step Up SIP with XIRR and Absolute Return." />
  <link rel="canonical" href="https://yourdomain.com/sip-calculator.html" />
  <meta property="og:title" content="SIP Calculator — TechFinserv" />
  <meta property="og:description" content="Estimate SIP returns (Standard & Step-Up), view XIRR and Absolute Return. Mobile friendly and downloadable schedule." />
  <meta property="og:type" content="website" />
  <meta name="author" content="Kiran Rathva | TechFinserv" />
  <meta name="robots" content="index, follow" />
  <link rel="icon" type="image/png" href="favicon.png">

  <!-- Google tag (gtag.js) — copied from coming soon (replace ID if needed) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9DHT9T8GZB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-9DHT9T8GZB');
  </script>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- FAQ structured data for Google rich results -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is a SIP calculator?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "A SIP calculator estimates the future value of regular monthly investments given an expected annual return and investment period."
        }
      },
      {
        "@type": "Question",
        "name": "What is Step-Up SIP?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Step-Up SIP increases your monthly investment by a fixed percentage each year. Use the Step-Up option to model annual increments."
        }
      },
      {
        "@type": "Question",
        "name": "How is XIRR calculated in the calculator?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "XIRR is calculated by solving the internal rate of return for actual dated cash flows (monthly investments as outflows, maturity as inflow). The calculator uses a numeric method to approximate XIRR."
        }
      },
      {
        "@type": "Question",
        "name": "Are the results exact?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "The calculator assumes fixed periodic returns and monthly compounding for projections. Actual returns depend on market performance and may differ."
        }
      }
    ]
  }
  </script>

  <style>
    :root{
      --bg: #f6f9ff;
      --accent-1:#0ea5e9;
      --accent-2:#10b981;
      --muted:#475569;
      --text:#0f172a;
      --card-bg: rgba(255,255,255,0.79);
    }
    *{box-sizing:border-box}
    body {
      margin: 0;
      font-family: Inter, system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }

    /* ===== Header (from coming soon) ===== */
    .container { max-width:1200px; margin:0 auto; padding:0 20px; }
    .topbar {
      position: sticky; top: 0; z-index: 40;
      background: rgba(255,255,255,0.68);
      border-bottom: 1px solid rgba(2,6,23,0.12);
      backdrop-filter: blur(12px) saturate(170%);
      box-shadow: 0 6px 16px rgba(2,6,23,0.06);
    }
    header.nav {
      display:flex; align-items:center; justify-content:space-between; padding:12px 0; position:relative;
    }
    .brand-logo { height:65px; border-radius:10px; display:block; object-fit:contain; }
    nav.menu { display:flex; gap:14px; }
    nav.menu a { padding:8px 12px; border-radius:10px; color:var(--muted); text-decoration:none; font-size:15px; }
    nav.menu a:hover{ background: #fff; color:var(--text); }
    .cta { background: linear-gradient(135deg,var(--accent-1),var(--accent-2)); color:#fff; padding:10px 14px; border-radius:12px; font-weight:600; text-decoration:none; }

    /* Mobile header toggles */
    .mobile-menu-toggle { display:none; background:transparent; border:0; cursor:pointer; }
    .mobile-menu { display:none; flex-direction:column; gap:6px; padding:10px 0; background:#fff; border-bottom:1px solid rgba(2,6,23,0.12); }
    .mobile-menu a { padding:12px 16px; font-size:15px; color:var(--muted); text-decoration:none; }

    /* ===== Calculator layout (adapted from your original styles + mobile improvements) ===== */
    .calc-main { display:flex; justify-content:center; gap:22px; padding:18px 0 42px; align-items:flex-start; }
    .calc-content { width:100%; max-width:980px; margin: 12px; }

    .ad-vertical {
      display:block;
      position: sticky; top: 78px;
      width:138px; min-width:138px; max-width:138px; height:600px;
      background: rgba(224,242,254,0.9);
      border-radius:20px;
      border:1.3px solid #bae6fd;
      box-shadow: 0 6px 32px rgba(2,6,23,0.08);
      text-align:center;
    }
    @media (max-width:1200px) { .ad-vertical { display:none; } }

    .card {
      background: var(--card-bg);
      border-radius:22px;
      border:1px solid rgba(2,6,23,0.12);
      box-shadow:0 12px 34px rgba(2,6,23,0.1);
      padding: 20px;
      display:flex; gap:20px; align-items:flex-start;
      flex-wrap:wrap;
    }

    .calcform {
      flex:1 1 320px;
      min-width:260px; max-width:420px;
      display:flex; flex-direction:column; gap:16px;
    }
    .toggle-row { display:flex; gap:8px; margin-bottom:6px; }
    .toggle-btn {
      flex:1; border:1px solid #d1d5db; background:#f1f5f9; color: var(--accent-1);
      font-weight:600; font-size:15px; border-radius:10px; padding:9px 10px; cursor:pointer;
    }
    .toggle-btn.active { background: linear-gradient(90deg,var(--accent-1),var(--accent-2)); color:#fff; border:none; }

    .input-label { font-size:15px; margin-bottom:8px; color:var(--muted); }
    .input-wrap { display:flex; align-items:center; gap:12px; margin-bottom:8px; width:100%; }

    .input-addon-group { position:relative; display:inline-flex; align-items:center; width:150px; height:44px; }
    .input-addon-group input[type=number] {
      background:#e0f2fe; color:var(--accent-1); border-radius:10px; border:1.8px solid #bae6fd;
      font-weight:700; font-size:17px; padding:8px 38px 8px 36px; text-align:center; width:150px; outline:none;
    }
    .input-addon-start, .input-addon-end {
      position:absolute; top:50%; transform:translateY(-50%); pointer-events:none; user-select:none; z-index:2;
      color:var(--accent-1); font-weight:700; font-size:16px;
    }
    .input-addon-start { left:12px; }
    .input-addon-end { right:12px; }

    input[type=range] { flex:1; accent-color: var(--accent-2); height:3px; }

    /* Make touch targets larger on mobile */
    input[type=number], .invest-btn, .toggle-btn { min-height:44px; }

    .stepup-wrap { display:none; }
    .stepup-wrap.active{ display:flex; flex-direction:column; }

    .invest-btn {
      background: linear-gradient(90deg,var(--accent-1),var(--accent-2));
      color:#fff; padding:12px 20px; border-radius:11px; border:none; font-weight:600; cursor:pointer; width:100%;
    }

    .chart-box {
      min-width:300px; max-width:380px; margin:auto; flex: 0 0 360px;
    }
    .chart-legend { display:flex; gap:10px; margin-top:10px; justify-content:center; font-size:14px; }
    .dot { width:13px; height:13px; display:inline-block; border-radius:12px; }
    .dot-blue { background:#2563eb; }
    .dot-green { background:#10b981; }

    .results-row { margin-top:12px; display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:center; }
    .results-group { min-width:140px; flex:1; text-align:center; }
    .results-label { color:var(--muted); font-size:14px; }
    .results-value { font-size:18px; font-weight:600; color:var(--accent-1); margin-top:6px; }

    .extra-returns-row { display:flex; gap:12px; margin-top:16px; justify-content:center; flex-wrap:wrap; }
    .extra-col { flex:1 1 120px; min-width:120px; text-align:center; background:#f1f5f9; padding:10px 6px; border-radius:8px; }
    .extra-label { color:var(--muted); font-size:13px; }
    .extra-value { font-size:16px; font-weight:700; color:var(--accent-1); }

    /* SEO / FAQ Section */
    .seo-section {
      background:#fff; border-radius:14px; padding:20px; margin-top:18px; box-shadow:0 6px 18px rgba(2,6,23,0.06);
      color:var(--text);
    }
    .seo-section h2 { color:var(--accent-1); font-size:1.2rem; margin-top:0; }
    .faq { margin-top:12px; display:block; }
    .faq-item { border-top:1px solid rgba(2,6,23,0.06); padding:12px 0; }
    .faq-question { display:flex; justify-content:space-between; align-items:center; gap:12px; cursor:pointer; font-weight:600; color:var(--text); }
    .faq-answer { margin-top:8px; color:var(--muted); display:none; }
    .faq-item.open .faq-answer { display:block; }
    .faq-item.open .faq-question .chev { transform:rotate(180deg); }

    /* Footer (copied from coming soon) */
    footer.glass {
      margin-top:28px; background: rgba(255,255,255,0.85); border-top:1px solid rgba(2,6,23,0.12);
      backdrop-filter: blur(12px) saturate(170%); padding:28px 0; color:var(--muted);
    }

    /* Responsive */
    @media (max-width: 1024px) { .chart-box { flex-basis:360px; } .calc-content { padding:4px; } }
    @media (max-width: 900px) {
      .card { flex-direction:column; gap:18px; padding:16px; }
      .chart-box { width:100%; max-width:100%; flex-basis:auto; order:2; }
      .calcform { order:1; width:100%; }
      .ad-vertical { display:none; }
    }
    @media (max-width: 560px) {
      .input-addon-group { width:100%; }
      .input-addon-group input[type=number] { width:100%; text-align:left; padding-left:12px; }
      .input-wrap { flex-direction:column; align-items:stretch; gap:8px; }
      .chart-box { padding:0 6px; }
      .brand-logo { height:48px; }
      .mobile-menu-toggle { display:inline-flex; gap:4px; width:28px; height:22px; background:transparent; border:0; }
      nav.menu { display:none; }
      .mobile-menu { display:none; }
      .mobile-menu.open { display:flex; }
    }
  </style>
</head>
<body>
  <!-- Header (from coming soon) -->
  <div class="topbar">
    <div class="container">
      <header class="nav">
        <a href="/" aria-label="TechFinserv home">
          <img class="brand-logo" src="images/techfinserv-logo.png" alt="TechFinserv logo">
        </a>
        <nav class="menu" aria-label="Primary">
          <a href="/">Home</a>
          <a href="blogs/">Blog</a>
          <a href="emi-calculator.html">EMI calculator</a>
          <a href="#contact" class="cta">Contact</a>
        </nav>

        <!-- mobile toggle -->
        <button class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="mobileMenu">
          <span style="display:block;height:3px;width:100%;background:var(--text);border-radius:2px"></span>
          <span style="display:block;height:3px;width:100%;background:var(--text);border-radius:2px;margin-top:4px"></span>
          <span style="display:block;height:3px;width:100%;background:var(--text);border-radius:2px;margin-top:4px"></span>
        </button>
      </header>

      <nav id="mobileMenu" class="mobile-menu" aria-label="Mobile">
        <a href="/">Home</a>
        <a href="blogs/">Blog</a>
        <a href="emi-calculator.html">EMI calculator</a>
        <a href="#contact" style="font-weight:600;color:var(--accent-1)">Contact</a>
      </nav>
    </div>
  </div>

  <!-- Calculator area -->
  <div class="calc-main">
    <div class="ad-vertical" id="adSlotLeft" aria-hidden="true">
      <div style="padding-top:22px;color:var(--accent-1);font-weight:700">Ad Slot</div>
    </div>

    <div class="calc-content">
      <div class="card" role="region" aria-label="SIP Calculator">
        <!-- Calculator form (kept logic identical) -->
        <form class="calcform" oninput="syncFields(); calculateSIP(); return false;">
          <div class="toggle-row">
            <button type="button" id="modeSIP" class="toggle-btn active" onclick="switchMode('sip')">SIP</button>
            <button type="button" id="modeStepUp" class="toggle-btn" onclick="switchMode('stepup')">Step Up SIP</button>
          </div>

          <!-- Monthly -->
          <div>
            <div class="input-label">Monthly investment</div>
            <div class="input-wrap">
              <input type="range" min="500" max="200000" step="100" value="500" id="monthlyInvestmentSlider" />
              <span class="input-addon-group">
                <span class="input-addon-start">₹</span>
                <input type="number" min="500" max="200000" step="100" value="500" id="monthlyInvestment" />
              </span>
            </div>
          </div>

          <!-- Rate -->
          <div>
            <div class="input-label">Expected return rate (p.a)</div>
            <div class="input-wrap">
              <input type="range" min="4" max="25" step="0.1" value="12" id="returnRateSlider" />
              <span class="input-addon-group">
                <input type="number" min="4" max="25" step="0.1" value="12" id="returnRate" />
                <span class="input-addon-end">%</span>
              </span>
            </div>
          </div>

          <!-- Years -->
          <div>
            <div class="input-label">Time period</div>
            <div class="input-wrap">
              <input type="range" min="1" max="40" step="1" value="10" id="yearsSlider" />
              <span class="input-addon-group">
                <input type="number" min="1" max="40" step="1" value="10" id="years" />
                <span class="input-addon-end">Y</span>
              </span>
            </div>
          </div>

          <!-- Step Up -->
          <div class="stepup-wrap" id="stepupWrap">
            <div class="input-label">Annual Step Up Rate</div>
            <div class="input-wrap">
              <input type="range" min="0" max="30" step="1" value="10" id="stepupRateSlider" />
              <span class="input-addon-group">
                <input type="number" min="0" max="30" step="1" value="10" id="stepupRate" />
                <span class="input-addon-end">%</span>
              </span>
            </div>
          </div>

          <button type="submit" class="invest-btn">INVEST NOW</button>
        </form>

        <!-- Chart & summary box -->
        <div class="chart-box" aria-hidden="false">
          <canvas id="sipChart" height="210" aria-label="SIP breakdown chart"></canvas>
          <div class="chart-legend">
            <div><span class="dot dot-blue"></span>Invested amount</div>
            <div><span class="dot dot-green"></span>Est. returns</div>
          </div>
          <div class="results-row" role="status" aria-live="polite">
            <div class="results-group">
              <div class="results-label">Invested amount</div>
              <div class="results-value" id="resultInvested">₹0</div>
            </div>
            <div class="results-group">
              <div class="results-label">Est. returns</div>
              <div class="results-value" id="resultReturns">₹0</div>
            </div>
            <div class="results-group">
              <div class="results-label">Total value</div>
              <div class="results-value" id="resultTotal">₹0</div>
            </div>
          </div>
          <div class="extra-returns-row">
            <div class="extra-col">
              <div class="extra-label">Absolute Return (%)</div>
              <div class="extra-value" id="resultAbs">0%</div>
            </div>
            <div class="extra-col">
              <div class="extra-label">XIRR (%)</div>
              <div class="extra-value" id="resultXIRR">0%</div>
            </div>
          </div>
        </div>
      </div>

      <!-- SEO Section + Visible FAQ -->
      <section class="seo-section" aria-labelledby="seo-heading">
        <h2 id="seo-heading">TechFinserv SIP & Step-Up SIP Calculator</h2>
        <p>
          Use our advanced SIP Calculator to estimate your mutual fund investment growth with Standard and Step-Up SIP.
          Enter monthly investment, expected return rate, investment period and (for step-up SIP) annual increment percentage to view mature value, returns, Absolute Return and XIRR instantly.
        </p>
        <p><strong>Features:</strong></p>
        <ul>
          <li>Fast slider + input UI, mobile friendly</li>
          <li>Step Up, XIRR, Absolute Return, responsive layout</li>
          <li>Examples and downloadable schedule (future enhancement)</li>
        </ul>

        <div class="faq" aria-label="Frequently asked questions">
          <div class="faq-item open">
            <div class="faq-question" onclick="this.parentElement.classList.toggle('open')">
              <span>What is a SIP calculator?</span>
              <span class="chev">▾</span>
            </div>
            <div class="faq-answer">A SIP calculator estimates the future value of regular monthly investments given an expected rate of return and investment tenure.</div>
          </div>

          <div class="faq-item">
            <div class="faq-question" onclick="this.parentElement.classList.toggle('open')">
              <span>How does Step-Up SIP work?</span>
              <span class="chev">▾</span>
            </div>
            <div class="faq-answer">Step-Up SIP increases your monthly SIP contribution by the entered percentage each year. Use the Step-Up option to model annual increments.</div>
          </div>

          <div class="faq-item">
            <div class="faq-question" onclick="this.parentElement.classList.toggle('open')">
              <span>How is XIRR calculated?</span>
              <span class="chev">▾</span>
            </div>
            <div class="faq-answer">XIRR is calculated by solving for the rate that equates the present value of dated cash flows. The calculator approximates XIRR numerically using the cash flow dates and amounts.</div>
          </div>

          <div class="faq-item">
            <div class="faq-question" onclick="this.parentElement.classList.toggle('open')">
              <span>Are results exact?</span>
              <span class="chev">▾</span>
            </div>
            <div class="faq-answer">The projections assume fixed returns and monthly compounding; actual market returns will vary. Use projections as a planning guide, not a guarantee.</div>
          </div>
        </div>
      </section>

      <!-- small spacer for bottom -->
      <div style="height:12px"></div>
    </div>

    <div class="ad-vertical" id="adSlotRight" aria-hidden="true">
      <div style="padding-top:22px;color:var(--accent-1);font-weight:700">Ad Slot</div>
    </div>
  </div>

  <!-- Footer (from coming soon) -->
  <footer id="contact" class="glass">
    <div class="container" style="text-align:center">
      <p>Designed & Maintained by Kiran Rathva | © <span id="year"></span> TechFinserv.com</p>
      <p style="font-size:13px">Need something urgently? <a href="mailto:hello@techfinserv.com">hello@techfinserv.com</a></p>
    </div>
  </footer>

  <!-- Keeper: your original calculator JS (unchanged logic) -->
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    (function () {
      const toggle = document.querySelector('.mobile-menu-toggle');
      const menu = document.getElementById('mobileMenu');
      if (!toggle || !menu) return;
      const setExpanded = (open) => {
        toggle.setAttribute('aria-expanded', String(open));
        menu.classList.toggle('open', open);
      };
      toggle.addEventListener('click', () => {
        const open = !menu.classList.contains('open');
        setExpanded(open);
      });
      menu.addEventListener('click', (e) => {
        if (e.target.tagName === 'A') setExpanded(false);
      });
      window.addEventListener('resize', () => {
        if (window.innerWidth > 768) setExpanded(false);
      });
    })();
  </script>

  <script>
    function syncFields() {
      let fields = [
        ['monthlyInvestmentSlider','monthlyInvestment'],
        ['returnRateSlider','returnRate'],
        ['yearsSlider','years'],
        ['stepupRateSlider','stepupRate']
      ];
      fields.forEach(([slider, box]) => {
        let s=document.getElementById(slider),b=document.getElementById(box);
        if(document.activeElement === s) b.value = s.value;
        else if(document.activeElement === b) s.value = b.value;
      });
    }
    function switchMode(mode) {
      document.getElementById('modeSIP').classList.toggle('active', mode==='sip');
      document.getElementById('modeStepUp').classList.toggle('active', mode==='stepup');
      document.getElementById('stepupWrap').classList.toggle('active', mode==='stepup');
      calculateSIP();
    }
    function inrFormat(num) {
      return '₹' + Math.round(num).toLocaleString('en-IN');
    }
    function calculateXIRR(cashflows, dates, guess) {
      let x0 = guess || 0.1, tol = 1e-6, iter = 80;
      function daysBetween(d1,d2){return (d1-d2)/(1000*3600*24);}
      function f(rate) {
        let res = 0, d0 = dates[0];
        for(let i=0; i<cashflows.length; ++i)
          res += cashflows[i] / Math.pow(1+rate, daysBetween(dates[i],d0)/365);
        return res;
      }
      let r = x0;
      for(let i=0; i<iter; ++i) {
        let fr = f(r);
        let delta = 1e-6;
        let fpr = (f(r+delta)-fr)/delta;
        if(Math.abs(fpr) < tol) break;
        let r1 = r - fr/fpr;
        if(Math.abs(r1-r) < tol) return r1;
        r = r1;
      }
      return r;
    }
    let chart;
    function calculateSIP() {
      const P = parseFloat(document.getElementById('monthlyInvestment').value);
      const r = parseFloat(document.getElementById('returnRate').value)/100/12;
      const years = parseInt(document.getElementById('years').value);
      const N = years * 12;
      let invested = 0, maturity = 0, absReturn = 0, xirrOut = 0;

      let modeStepUp = document.getElementById('modeStepUp').classList.contains('active');
      let cashflows = [], dates = [];
      let today = new Date();
      let stepup_rate = parseFloat(document.getElementById('stepupRate').value)/100;

      if (!modeStepUp) {
        invested = P * N;
        maturity = P * ( (Math.pow(1+r,N) - 1) / r ) * (1 + r);
        for (let i = 0; i < N; ++i) {
          cashflows.push(-P);
          let d = new Date(today.getFullYear(), today.getMonth() + i, today.getDate());
          dates.push(d);
        }
      } else {
        invested = 0;
        maturity = 0;
        let curr = P;
        for (let y = 0; y < years; ++y) {
          for (let m = 0; m < 12; ++m) {
            invested += curr;
            let d = new Date(today.getFullYear(), today.getMonth() + y*12 + m, today.getDate());
            dates.push(d);
            cashflows.push(-curr);
            let n = (years*12)-(y*12+m);
            maturity += curr * Math.pow(1+r, n);
          }
          curr *= (1+stepup_rate);
        }
      }
      cashflows.push(maturity);
      let finaldate = new Date(today.getFullYear(), today.getMonth() + N, today.getDate());
      dates.push(finaldate);

      absReturn = invested ? ((maturity - invested) / invested) * 100 : 0;
      xirrOut = calculateXIRR(cashflows, dates, 0.11);

      let returns = maturity - invested;
      document.getElementById('resultInvested').textContent = inrFormat(invested);
      document.getElementById('resultReturns').textContent = inrFormat(returns);
      document.getElementById('resultTotal').textContent = inrFormat(maturity);
      document.getElementById('resultAbs').textContent = absReturn ? absReturn.toFixed(2) + '%' : '0%';
      document.getElementById('resultXIRR').textContent = xirrOut ? (xirrOut*100).toFixed(2) + '%' : '0%';

      // Chart
      const ctx = document.getElementById('sipChart').getContext('2d');
      if (chart) chart.destroy();
      chart = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ["Invested amount", "Est. returns"],
          datasets: [{ data: [invested, returns], backgroundColor: ["#2563eb", "#10b981"] }]
        },
        options: {
          cutout: '70%',
          plugins: { legend: { display: false } }
        }
      });
    }
    window.onload = function () {
      let fields = [
        ['monthlyInvestmentSlider','monthlyInvestment'],
        ['returnRateSlider','returnRate'],
        ['yearsSlider','years'],
        ['stepupRateSlider','stepupRate']
      ];
      fields.forEach(([slider, box]) => {
        let s = document.getElementById(slider), b = document.getElementById(box);
        s.addEventListener('input', function() { b.value = this.value; calculateSIP(); });
        b.addEventListener('input', function() { s.value = this.value; calculateSIP(); });
      });
      calculateSIP();
    }
  </script>
</body>
</html>
